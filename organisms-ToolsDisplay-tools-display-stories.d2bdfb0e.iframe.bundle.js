(self.webpackChunk_open_sauced_insights=self.webpackChunk_open_sauced_insights||[]).push([[4256],{"./components/organisms/ToolsDisplay/tools-display.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{ToolsDisplayOrganism:()=>ToolsDisplayOrganism,__namedExportsOrder:()=>__namedExportsOrder,default:()=>tools_display_stories});var defineProperty=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),es=__webpack_require__("./node_modules/posthog-js/dist/es.js");var useSession=__webpack_require__("./lib/hooks/useSession.ts"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),useFetchUser=__webpack_require__("./lib/hooks/useFetchUser.ts"),contributors=__webpack_require__("./components/organisms/Contributors/contributors.tsx"),dashboard=__webpack_require__("./components/organisms/Dashboard/dashboard.tsx"),reports=__webpack_require__("./components/organisms/Reports/reports.tsx"),next_router=__webpack_require__("./node_modules/next/router.js"),nivo_scatter_chart=__webpack_require__("./components/molecules/NivoScatterChart/nivo-scatter-chart.tsx"),card=__webpack_require__("./components/atoms/Card/card.tsx"),useMediaQuery=__webpack_require__("./lib/hooks/useMediaQuery.ts"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts"),get_filter_query=__webpack_require__("./lib/utils/get-filter-query.ts");const api_usePullRequests=function(){var _data$data,_data$meta;let intialLimit=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3,repoIds=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],range=arguments.length>2&&void 0!==arguments[2]?arguments[2]:30;const router=(0,next_router.useRouter)(),{0:page,1:setPage}=(0,react.useState)(1),{0:limit,1:setLimit}=(0,react.useState)(intialLimit),{pageId,selectedFilter}=router.query,topic=pageId,filterQuery=(0,get_filter_query.Z)(selectedFilter),query=new URLSearchParams(filterQuery);Number.isNaN(Number(topic))&&query.set("topic",topic),page&&query.set("page","".concat(page)),limit&&query.set("limit","".concat(limit)),(null==repoIds?void 0:repoIds.length)>0&&(query.delete("topic"),query.set("repoIds",repoIds.join(","))),query.get("repo")&&query.delete("topic"),query.set("range","".concat(range));const endpointString="".concat("prs/search","?").concat(query.toString()),{data,error,mutate}=(0,dist.ZP)(endpointString,public_api_fetcher.Z);return{data:null!==(_data$data=null==data?void 0:data.data)&&void 0!==_data$data?_data$data:[],meta:null!==(_data$meta=null==data?void 0:data.meta)&&void 0!==_data$meta?_data$meta:{itemCount:0,limit:0,page:0,hasNextPage:!1,hasPreviousPage:!1,pageCount:0},isLoading:!error&&!data,isError:!!error,mutate,page,setPage,setLimit}};var date_utils=__webpack_require__("./lib/utils/date-utils.ts"),github=__webpack_require__("./lib/utils/github.ts"),__jsx=react.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}const Activity=_ref=>{let{repositories}=_ref;const router=(0,next_router.useRouter)(),{range}=router.query,{data:prData,isError:prError}=api_usePullRequests(void 0,repositories,Number(range)),{0:showBots,1:setShowBots}=(0,react.useState)(!1),isMobile=(0,useMediaQuery.a)("(max-width:720px)"),{0:prStateFilter,1:setPrStateFilter}=(0,react.useState)("all");let scatterChartData=[],metadata={allPrs:prData.length,openPrs:prData.filter((pr=>"open"===pr.state.toLowerCase())).length,closedPrs:prData.filter((pr=>"closed"===pr.state.toLowerCase()||"merged"===pr.state.toLowerCase())).length};const uniqueContributors=prData.reduce(((prs,curr)=>(curr.state.toLowerCase()!==prStateFilter&&"all"!==prStateFilter||(prs[curr.author_login]?prs[curr.author_login].linesCount+=Math.abs(curr.additions-curr.deletions):(prs[curr.author_login]=function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}({},curr),prs[curr.author_login].linesCount=Math.abs(curr.additions-curr.deletions))),prs)),{}),prs=Object.keys(uniqueContributors).filter((key=>!!showBots||!key.includes("[bot]"))).map((key=>uniqueContributors[key]));scatterChartData=prError?[]:prs.map((_ref2=>{let{updated_at,linesCount,author_login}=_ref2;const author_image=author_login.includes("[bot]")?"octocat":author_login;return{x:(0,date_utils.yy)(new Date(updated_at)),y:linesCount,contributor:author_login,image:(0,github.cc)(author_image,40)}}));const maxFilesModified=scatterChartData.reduce(((max,curr)=>{const{y}=curr;return Number(y)>max?y:max}),0);return __jsx("div",{className:"flex flex-col w-full"},__jsx(card.Z,{className:"w-full"},__jsx(nivo_scatter_chart.Z,{title:"Contributor Distribution",showBots,setShowBots,data:[{id:"Contributors",data:scatterChartData}],maxFilesModified,isMobile,repositories,metadata,handleSetPrFilter:state=>{setPrStateFilter(state)}})))};Activity.displayName="Activity";const Activity_activity=Activity;try{activity.displayName="activity",activity.__docgenInfo={description:"",displayName:"activity",props:{repositories:{defaultValue:null,description:"",name:"repositories",required:!0,type:{name:"number[] | undefined"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/Activity/activity.tsx#activity"]={docgenInfo:activity.__docgenInfo,name:"activity",path:"components/organisms/Activity/activity.tsx#activity"})}catch(__react_docgen_typescript_loader_error){}var tools_display_jsx=react.createElement;const tools_display=_ref=>{let{tool,repositories}=_ref;const{hasReports,waitlisted}=(0,useSession.Z)(),{user}=(0,useSupabaseAuth.Z)(),{data:userInfo,isLoading}=(0,useFetchUser.j)(null==user?void 0:user.user_metadata.user_name);switch((0,react.useEffect)((()=>{isLoading||async function captureAnalytics(_ref){let{title,property,value,userInfo}=_ref;const analyticsObject={};if(analyticsObject[property]=value,userInfo){let userProperties={};const{company,coupon_code,is_open_sauced_member,is_onboarded,role,is_maintainer}=userInfo;userProperties={company,coupon_code,is_open_sauced_member,is_onboarded,is_pro_user:role>=50,is_maintainer},es.ZP.identify("".concat(userInfo.id),userProperties)}es.ZP.capture(title,analyticsObject)}({title:"Tools Display",property:"tools",value:"".concat(tool," selected"),userInfo})}),[tool,userInfo,isLoading]),tool){case"Dashboard":return tools_display_jsx(dashboard.Z,{repositories});case"Reports":return tools_display_jsx(reports.Z,{hasReports,waitlisted,repositories});case"Contributors":return tools_display_jsx(contributors.Z,{repositories});case"Activity":return tools_display_jsx(Activity_activity,{repositories});default:return tools_display_jsx(react.Fragment,null," ",tool?"".concat(tool):"")}};try{toolsdisplay.displayName="toolsdisplay",toolsdisplay.__docgenInfo={description:"",displayName:"toolsdisplay",props:{tool:{defaultValue:null,description:"",name:"tool",required:!1,type:{name:"string"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/ToolsDisplay/tools-display.tsx#toolsdisplay"]={docgenInfo:toolsdisplay.__docgenInfo,name:"toolsdisplay",path:"components/organisms/ToolsDisplay/tools-display.tsx#toolsdisplay"})}catch(__react_docgen_typescript_loader_error){}var _ToolsDisplayOrganism,_ToolsDisplayOrganism2,tools_display_stories_jsx=react.createElement;function tools_display_stories_ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function tools_display_stories_objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?tools_display_stories_ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):tools_display_stories_ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const tools_display_stories={title:"Design System/Organisms/Tools Display"},ToolsDisplayOrganism=()=>tools_display_stories_jsx(tools_display,null);ToolsDisplayOrganism.displayName="ToolsDisplayOrganism",ToolsDisplayOrganism.parameters=tools_display_stories_objectSpread(tools_display_stories_objectSpread({},ToolsDisplayOrganism.parameters),{},{docs:tools_display_stories_objectSpread(tools_display_stories_objectSpread({},null===(_ToolsDisplayOrganism=ToolsDisplayOrganism.parameters)||void 0===_ToolsDisplayOrganism?void 0:_ToolsDisplayOrganism.docs),{},{source:tools_display_stories_objectSpread({originalSource:"() => <Tool />"},null===(_ToolsDisplayOrganism2=ToolsDisplayOrganism.parameters)||void 0===_ToolsDisplayOrganism2||null===(_ToolsDisplayOrganism2=_ToolsDisplayOrganism2.docs)||void 0===_ToolsDisplayOrganism2?void 0:_ToolsDisplayOrganism2.source)})});const __namedExportsOrder=["ToolsDisplayOrganism"]},"./components/atoms/ToggleGroup/toggle-group.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>toggle_group});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@radix-ui/react-toggle-group/dist/index.mjs"),clsx_m=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),__jsx=react.createElement;const ToggleGroupItem=_ref=>{let{checked,value,children}=_ref;return __jsx(dist.ck,{value,className:(0,clsx_m.Z)("text-sm text-light-slate-11 px-4 py-2 m-0.5 rounded-md font-semibold",checked&&"bg-light-slate-1 text-light-slate-12")},children)};ToggleGroupItem.displayName="ToggleGroupItem";const toggle_group_item=ToggleGroupItem;try{togglegroupitem.displayName="togglegroupitem",togglegroupitem.__docgenInfo={description:"",displayName:"togglegroupitem",props:{checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleGroupItem/toggle-group-item.tsx#togglegroupitem"]={docgenInfo:togglegroupitem.__docgenInfo,name:"togglegroupitem",path:"components/atoms/ToggleGroupItem/toggle-group-item.tsx#togglegroupitem"})}catch(__react_docgen_typescript_loader_error){}var toggle_group_jsx=react.createElement;const ToggleGroup=_ref=>{let{children,allowNone=!1,defaultSelection="0",handleChange,className}=_ref;const{0:value,1:setValue}=(0,react.useState)(defaultSelection+"");return children?toggle_group_jsx(dist.fC,{type:"single",value,onValueChange:value=>{(value||allowNone)&&(setValue(value),handleChange&&handleChange(value))},className:"bg-light-slate-6 rounded-lg p-0.25 ".concat(className&&className)},Array.isArray(children)?children.map(((child,index)=>toggle_group_jsx(toggle_group_item,{checked:value=="".concat(index),value:"".concat(index),key:index},child))):toggle_group_jsx(toggle_group_item,{checked:"0"==value,value:"0"},children)):null};ToggleGroup.displayName="ToggleGroup";const toggle_group=ToggleGroup;try{togglegroup.displayName="togglegroup",togglegroup.__docgenInfo={description:"A ToggleGroup component that allows the user to select one option from a list of options.\nWarning: Do NOT re-order the children after the component has been rendered.",displayName:"togglegroup",props:{allowNone:{defaultValue:{value:"false"},description:"Allows the user to deselect an option, resulting in none being selected.",name:"allowNone",required:!1,type:{name:"boolean"}},defaultSelection:{defaultValue:{value:"0"},description:"Decides which option will be selected by default. Provide the position of the element to be selected starting from 0.",name:"defaultSelection",required:!1,type:{name:"string | number"}},handleChange:{defaultValue:null,description:"Callback function that is called when the user selects an option, and the position of the selected element is passed into as string, starting with '0'.",name:"handleChange",required:!1,type:{name:"((value: string) => void)"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleGroup/toggle-group.tsx#togglegroup"]={docgenInfo:togglegroup.__docgenInfo,name:"togglegroup",path:"components/atoms/ToggleGroup/toggle-group.tsx#togglegroup"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/ToggleOption/toggle-option.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),react_icons_hi__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-icons/hi/index.esm.js"),_ToggleSwitch_toggle_switch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/ToggleSwitch/toggle-switch.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const ToggleOption=_ref=>{let{optionText,withIcon,checked,handleToggle}=_ref;return __jsx("div",{onClick:handleToggle,className:"inline-flex cursor-pointer items-center gap-2 rounded-md px-2 py-0.5 border border-light-slate-6 bg-light-slate-1"},__jsx(_ToggleSwitch_toggle_switch__WEBPACK_IMPORTED_MODULE_1__.Z,{ariaLabel:optionText,size:"sm",handleToggle,name:optionText,checked}),__jsx("span",{className:"text-sm text-light-slate-11"},optionText),withIcon&&__jsx(react_icons_hi__WEBPACK_IMPORTED_MODULE_2__.frK,{title:"An outside contributor is not a member the organization",className:"text-light-slate-9"}))};ToggleOption.displayName="ToggleOption";const __WEBPACK_DEFAULT_EXPORT__=ToggleOption;try{toggleoption.displayName="toggleoption",toggleoption.__docgenInfo={description:"",displayName:"toggleoption",props:{optionText:{defaultValue:null,description:"",name:"optionText",required:!0,type:{name:"string"}},withIcon:{defaultValue:null,description:"",name:"withIcon",required:!1,type:{name:"boolean"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},handleToggle:{defaultValue:null,description:"",name:"handleToggle",required:!0,type:{name:"() => void"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleOption/toggle-option.tsx#toggleoption"]={docgenInfo:toggleoption.__docgenInfo,name:"toggleoption",path:"components/atoms/ToggleOption/toggle-option.tsx#toggleoption"})}catch(__react_docgen_typescript_loader_error){}},"./components/atoms/ToggleSwitch/toggle-switch.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_runner_work_openSaucedApp_openSaucedApp_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/extends.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@radix-ui/react-switch/dist/index.module.js"),clsx__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/clsx/dist/clsx.m.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const ToggleSwitch=props=>{const{name,checked=!1,handleToggle,size="base",classNames}=props;let ariaProps;return props.ariaLabelledBy&&(ariaProps={"aria-labelledby":props.ariaLabelledBy}),props.ariaLabel&&(ariaProps={"aria-label":props.ariaLabel}),__jsx(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_1__.fC,(0,_home_runner_work_openSaucedApp_openSaucedApp_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_2__.Z)({defaultChecked:!0,checked,onClick:()=>handleToggle(),name},ariaProps,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)(classNames,checked&&"!bg-light-orange-10 justify-end","flex rounded-2xl p-[2px] transition overflow-hidden bg-light-slate-8","lg"===size?"w-14 h-[30px]":"base"===size?"w-10 h-5":"sm"===size?"w-7 h-4":"")}),__jsx(_radix_ui_react_switch__WEBPACK_IMPORTED_MODULE_1__.bU,{className:(0,clsx__WEBPACK_IMPORTED_MODULE_3__.Z)("bg-white block rounded-2xl  h-full w-1/2")}))};ToggleSwitch.displayName="ToggleSwitch";const __WEBPACK_DEFAULT_EXPORT__=ToggleSwitch;try{toggleswitch.displayName="toggleswitch",toggleswitch.__docgenInfo={description:"",displayName:"toggleswitch",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},checked:{defaultValue:null,description:"",name:"checked",required:!0,type:{name:"boolean"}},handleToggle:{defaultValue:null,description:"",name:"handleToggle",required:!0,type:{name:"() => void"}},size:{defaultValue:null,description:"",name:"size",required:!1,type:{name:"enum",value:[{value:'"base"'},{value:'"sm"'},{value:'"lg"'}]}},classNames:{defaultValue:null,description:"",name:"classNames",required:!1,type:{name:"string"}},ariaLabel:{defaultValue:null,description:"",name:"ariaLabel",required:!1,type:{name:"string"}},ariaLabelledBy:{defaultValue:null,description:"",name:"ariaLabelledBy",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/atoms/ToggleSwitch/toggle-switch.tsx#toggleswitch"]={docgenInfo:toggleswitch.__docgenInfo,name:"toggleswitch",path:"components/atoms/ToggleSwitch/toggle-switch.tsx#toggleswitch"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/NivoScatterChart/nivo-scatter-chart.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_nivo_scatterplot__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@nivo/scatterplot/dist/nivo-scatterplot.es.js"),_react_spring_web__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@react-spring/web/dist/react-spring_web.modern.mjs"),lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./lib/utils/humanizeNumber.ts"),components_atoms_ToggleOption_toggle_option__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/atoms/ToggleOption/toggle-option.tsx"),components_atoms_Typography_title__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/atoms/Typography/title.tsx"),components_atoms_ToggleGroup_toggle_group__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./components/atoms/ToggleGroup/toggle-group.tsx"),components_atoms_Avatar_avatar_hover_card__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./components/atoms/Avatar/avatar-hover-card.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const __WEBPACK_DEFAULT_EXPORT__=_ref=>{let{data,maxFilesModified,title,setShowBots,showBots,isMobile,repositories,metadata,handleSetPrFilter}=_ref;const{0:showMembers,1:setShowMembers}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),{0:isLogarithmic,1:setIsLogarithmic}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);let functionTimeout;const filteredData=[{id:data[0].id,data:data[0].data.filter((data=>Number(data.x)<=7))}];return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("div",{className:"flex flex-col items-center justify-between px-0 pt-3 md:flex-row md:px-7"},__jsx(components_atoms_Typography_title__WEBPACK_IMPORTED_MODULE_4__.Z,{level:4,className:"!text-sm  !text-light-slate-12"},title),metadata?__jsx(components_atoms_ToggleGroup_toggle_group__WEBPACK_IMPORTED_MODULE_5__.Z,{handleChange:val=>{switch(val){case"0":null==handleSetPrFilter||handleSetPrFilter("all");break;case"1":null==handleSetPrFilter||handleSetPrFilter("open");break;case"2":null==handleSetPrFilter||handleSetPrFilter("closed")}},className:"hidden lg:flex"},__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"All PRs",__jsx("span",{className:"ml-2 py-0.5 px-1.5 h-fit bg-slate-200 text-slate-500 border rounded-full text-xs font-semibold"},(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(metadata.allPrs,null))),__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"Open",__jsx("span",{className:"ml-2 py-0.5 px-1.5 h-fit bg-slate-200 text-slate-500 border rounded-full text-xs font-semibold"},(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(metadata.openPrs,null))),__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,"Closed",__jsx("span",{className:"ml-2 py-0.5 px-1.5 h-fit bg-slate-200 text-slate-500 border rounded-full text-xs font-semibold"},(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(metadata.closedPrs,null)))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),__jsx("div",{className:"flex gap-2 mt-3 md:mt-0"},__jsx("div",null,__jsx(components_atoms_ToggleOption_toggle_option__WEBPACK_IMPORTED_MODULE_3__.Z,{handleToggle:()=>{clearTimeout(functionTimeout),functionTimeout=setTimeout((()=>{setShowBots(!showBots)}),50)},checked:showBots,optionText:"Show Bots"})),__jsx("div",null,__jsx(components_atoms_ToggleOption_toggle_option__WEBPACK_IMPORTED_MODULE_3__.Z,{handleToggle:()=>{clearInterval(functionTimeout),functionTimeout=setTimeout((()=>{setIsLogarithmic(!isLogarithmic)}))},optionText:"Enhance",checked:isLogarithmic})))),__jsx("div",{className:"h-[400px]"},__jsx(_nivo_scatterplot__WEBPACK_IMPORTED_MODULE_1__.IG,{nodeSize:isMobile?25:35,data:isMobile?filteredData:data,margin:{top:30,right:isMobile?30:60,bottom:70,left:isMobile?75:90},xScale:{type:"linear",min:0,max:isMobile?7:32,reverse:!0},yScale:{type:isLogarithmic?"symlog":"linear",min:0,max:Math.max(Math.round(1.5*maxFilesModified),10)},blendMode:"normal",useMesh:!1,annotations:[],nodeComponent:props=>__jsx(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.q.foreignObject,{className:"cursor-pointer",width:35,height:35,r:props.style.size.to((size=>size/2)),y:props.style.y.to((yVal=>yVal-35)),x:props.style.x.to((xVal=>xVal-17.5))},__jsx(components_atoms_Avatar_avatar_hover_card__WEBPACK_IMPORTED_MODULE_6__.Z,{contributor:props.node.data.contributor,repositories})),axisBottom:{tickSize:8,tickPadding:5,tickRotation:0,tickValues:isMobile?4:7,format:value=>0===value?"Today":value>32?"30+ days ago":"".concat(value," days ago")},theme:{axis:{},grid:{line:{strokeDasharray:"4 4",strokeWidth:1,strokeOpacity:.7}}},isInteractive:!0,axisLeft:{tickSize:2,tickPadding:5,tickRotation:0,tickValues:5,legend:"Lines Touched",legendPosition:"middle",legendOffset:-60,format:value=>parseInt("".concat(value))>=1e3?(0,lib_utils_humanizeNumber__WEBPACK_IMPORTED_MODULE_7__.Z)(value,"abbreviation"):"".concat(value)}})))};try{nivoscatterchart.displayName="nivoscatterchart",nivoscatterchart.__docgenInfo={description:"",displayName:"nivoscatterchart",props:{maxFilesModified:{defaultValue:null,description:"",name:"maxFilesModified",required:!0,type:{name:"number"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},showBots:{defaultValue:null,description:"",name:"showBots",required:!0,type:{name:"boolean"}},setShowBots:{defaultValue:null,description:"",name:"setShowBots",required:!0,type:{name:"(toggle: boolean) => void"}},data:{defaultValue:null,description:"",name:"data",required:!0,type:{name:"{ id: string; data: ScatterChartDataItems[]; }[]"}},isMobile:{defaultValue:null,description:"",name:"isMobile",required:!1,type:{name:"boolean"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}},metadata:{defaultValue:null,description:"",name:"metadata",required:!1,type:{name:"ScatterChartMetadata"}},handleSetPrFilter:{defaultValue:null,description:"",name:"handleSetPrFilter",required:!1,type:{name:"((state: PrStatusFilter) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/NivoScatterChart/nivo-scatter-chart.tsx#nivoscatterchart"]={docgenInfo:nivoscatterchart.__docgenInfo,name:"nivoscatterchart",path:"components/molecules/NivoScatterChart/nivo-scatter-chart.tsx#nivoscatterchart"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/ReportsHistory/reports-history.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>reports_history});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),table_title=__webpack_require__("./components/atoms/TableTitle/table-title.tsx"),react_csv=__webpack_require__("./node_modules/react-csv/index.js"),dist=__webpack_require__("./node_modules/swr/core/dist/index.mjs"),Button_button=__webpack_require__("./components/atoms/Button/button.tsx"),public_api_fetcher=__webpack_require__("./lib/utils/public-api-fetcher.ts"),__jsx=react.createElement;const csv_download=_ref=>{let{report,repositories}=_ref;const csvRef=(0,react.useRef)(),{0:data,1:setData}=(0,react.useState)(null),{0:generating,1:setGenerating}=(0,react.useState)(!1),{mutate}=(0,dist.kY)(),selectedFilter=report.reportName;(0,react.useEffect)((()=>{Array.isArray(data)&&csvRef.current&&csvRef.current.link&&setTimeout((()=>{csvRef.current.link.click(),setData(null)}))}),[data]);return __jsx(react.Fragment,null,data?__jsx(react_csv.CSVLink,{data,ref:csvRef}):"",__jsx(Button_button.Z,{variant:"link",onClick:async()=>{const query=new URLSearchParams;query.set("filter",selectedFilter),query.set("limit","100"),query.set("range","30"),repositories&&repositories.length>0&&query.set("repoIds",repositories.join(","));const key="prs/search?".concat(query.toString());try{setGenerating(!0);const result=await mutate(key,(0,public_api_fetcher.Z)(key));setData(result.data)}catch(e){}finally{setGenerating(!1)}},disabled:generating},generating?"Loading":"Download"))};try{csvdownload.displayName="csvdownload",csvdownload.__docgenInfo={description:"",displayName:"csvdownload",props:{report:{defaultValue:null,description:"",name:"report",required:!0,type:{name:"Report"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/ReportsHistory/csv-download.tsx#csvdownload"]={docgenInfo:csvdownload.__docgenInfo,name:"csvdownload",path:"components/molecules/ReportsHistory/csv-download.tsx#csvdownload"})}catch(__react_docgen_typescript_loader_error){}var reports_history_jsx=react.createElement;const ReportsHistory=_ref=>{let{reportList,repositories}=_ref;const tableStyles_text="text-sm text-slate-900 tracking-tight",tableStyles_col1="flex-[1] text-center",tableStyles_col2="flex-[1] text-center",tableStyles_col3="flex-[1] text-center",tableStyles_col4="flex-[1] text-center";return reports_history_jsx("div",{className:"flex flex-col overflow-hidden bg-white border rounded-lg"},reports_history_jsx("div",{className:"flex justify-between px-3 py-3 rounded-t-lg md:px-6 bg-light-slate-3"},reports_history_jsx("div",{className:tableStyles_col1},reports_history_jsx(table_title.Z,null,"Report Name")),reports_history_jsx("div",{className:tableStyles_col2},reports_history_jsx(table_title.Z,null,"Issue Date")),reports_history_jsx("div",{className:tableStyles_col3},reports_history_jsx(table_title.Z,null,"Format")),reports_history_jsx("div",{className:tableStyles_col4},reports_history_jsx(table_title.Z,null,"Actions"))),reports_history_jsx("div",{className:"flex flex-col justify-between w-full"},reportList&&reportList.map(((report,index)=>{const{reportDate,reportName,reportFormat}=report;return reports_history_jsx("div",{className:"flex items-center px-3 py-3 md:px-6 odd:bg-white even:bg-slate-50",key:index},reports_history_jsx("div",{className:"".concat(tableStyles_col1," ").concat(tableStyles_text)},reportName),reports_history_jsx("div",{className:"".concat(tableStyles_col2," ").concat(tableStyles_text)},reportDate),reports_history_jsx("div",{className:"".concat(tableStyles_col3," ").concat(tableStyles_text)},reportFormat),reports_history_jsx("div",{className:"".concat(tableStyles_col4," ").concat(tableStyles_text)},reports_history_jsx(csv_download,{report,repositories})))})),!reportList||0===reportList.length&&reports_history_jsx(Typography_text.Z,{className:"px-6 py-3"},"Currently there are no reports")))};ReportsHistory.displayName="ReportsHistory";const reports_history=ReportsHistory;try{reportshistory.displayName="reportshistory",reportshistory.__docgenInfo={description:"",displayName:"reportshistory",props:{reportList:{defaultValue:null,description:"",name:"reportList",required:!1,type:{name:"Report[]"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/ReportsHistory/reports-history.tsx#reportshistory"]={docgenInfo:reportshistory.__docgenInfo,name:"reportshistory",path:"components/molecules/ReportsHistory/reports-history.tsx#reportshistory"})}catch(__react_docgen_typescript_loader_error){}},"./components/molecules/SelectReportsFilter/select-reports-filter.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),components_atoms_Button_button__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./components/atoms/Button/button.tsx"),components_atoms_Typography_text__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/atoms/Typography/text.tsx"),components_atoms_Typography_title__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/atoms/Typography/title.tsx"),components_atoms_Select_select__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./components/atoms/Select/select.tsx"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;const SelectReportsFilter=_ref=>{var _filterList$find;let{filterList,callback}=_ref;const{0:selectedValue,1:setSelectedValue}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(""),{0:error,1:setError}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)("");return __jsx("div",{className:"flex flex-col gap-2 min-h-20"},__jsx(components_atoms_Typography_title__WEBPACK_IMPORTED_MODULE_3__.Z,{level:4},"Select a Filter"),__jsx(components_atoms_Typography_text__WEBPACK_IMPORTED_MODULE_2__.Z,null,"Download the filtered pull requests from the filtered repositories for the last 30 days as a CSV."),__jsx("div",{className:"flex flex-col gap-2 md:flex-row"},__jsx(components_atoms_Select_select__WEBPACK_IMPORTED_MODULE_4__.Ph,{onValueChange:value=>setSelectedValue(value)},__jsx(components_atoms_Select_select__WEBPACK_IMPORTED_MODULE_4__.i4,null,__jsx(components_atoms_Select_select__WEBPACK_IMPORTED_MODULE_4__.ki,{className:"!capitalize"},selectedValue?null===(_filterList$find=filterList.find((filter=>filter.filterValue===selectedValue)))||void 0===_filterList$find?void 0:_filterList$find.filterName:"Select a Filter")),__jsx(components_atoms_Select_select__WEBPACK_IMPORTED_MODULE_4__.Bw,{className:"bg-white"},null==filterList?void 0:filterList.map(((_ref2,index)=>{let{filterName,filterValue}=_ref2;return __jsx(components_atoms_Select_select__WEBPACK_IMPORTED_MODULE_4__.Ql,{key:index,value:filterValue},filterName)})))),__jsx(components_atoms_Button_button__WEBPACK_IMPORTED_MODULE_1__.Z,{variant:"primary",onClick:()=>{if(""===selectedValue)return setError("Please select a filter.");error&&setError(""),callback(selectedValue)},className:"flex justify-center w-52 h-[38px]"},"Generate CSV")))};SelectReportsFilter.displayName="SelectReportsFilter";const __WEBPACK_DEFAULT_EXPORT__=SelectReportsFilter;try{selectreportsfilter.displayName="selectreportsfilter",selectreportsfilter.__docgenInfo={description:"",displayName:"selectreportsfilter",props:{filterList:{defaultValue:null,description:"",name:"filterList",required:!0,type:{name:"FilterOptions[]"}},callback:{defaultValue:null,description:"",name:"callback",required:!0,type:{name:"(selectedValue: string) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/molecules/SelectReportsFilter/select-reports-filter.tsx#selectreportsfilter"]={docgenInfo:selectreportsfilter.__docgenInfo,name:"selectreportsfilter",path:"components/molecules/SelectReportsFilter/select-reports-filter.tsx#selectreportsfilter"})}catch(__react_docgen_typescript_loader_error){}},"./components/organisms/Reports/reports.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>Reports_reports});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@supabase/auth-helpers-react/dist/index.js"),github_icon=__webpack_require__("./img/icons/github-icon.svg"),Button_button=__webpack_require__("./components/atoms/Button/button.tsx"),icon=__webpack_require__("./components/atoms/Icon/icon.tsx"),title=__webpack_require__("./components/atoms/Typography/title.tsx"),Typography_text=__webpack_require__("./components/atoms/Typography/text.tsx"),reports_history=__webpack_require__("./components/molecules/ReportsHistory/reports-history.tsx"),select_reports_filter=__webpack_require__("./components/molecules/SelectReportsFilter/select-reports-filter.tsx"),stripe_checkout_button=__webpack_require__("./components/organisms/StripeCheckoutButton/stripe-checkout-button.tsx");const hooks_useFilterOptions=()=>["Top 100 Repos","Minimum 5 Contributors","Recent","Most Active","Most Spammed"];var useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts");const get_current_date=()=>{const today=new Date;return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][today.getMonth()]," ").concat(today.getDate(),", ").concat(today.getFullYear())};var __jsx=react.createElement;const Reports=_ref=>{let{hasReports,repositories}=_ref;const userDeviceState=localStorage.getItem("reportState"),initialState=userDeviceState?JSON.parse(userDeviceState):[],{0:reports,1:setReports}=(0,react.useState)(initialState),{signIn}=(0,useSupabaseAuth.Z)(),user=(0,dist.useUser)(),filterList=hooks_useFilterOptions().map((filter=>({filterName:filter,filterValue:filter.toLowerCase().replaceAll(" ","-")})));return __jsx("section",{className:"flex flex-col w-full py-4 px-2 md:px-4 justify-center items-center"},__jsx("div",{className:"max-w-4xl"},__jsx(title.Z,{className:" relative",level:3},"Contribution Insights"),__jsx("hr",{className:"border-light-slate-6 my-4"}),user?hasReports?__jsx(react.Fragment,null,__jsx(select_reports_filter.Z,{filterList,callback:async selectedFilter=>{const constructedReport={reportName:selectedFilter,reportDate:get_current_date(),reportFormat:"CSV"};setReports((prevState=>{const newState=[...prevState,constructedReport];return localStorage.setItem("reportState",JSON.stringify(newState)),newState}))}}),reports.length>0&&__jsx(react.Fragment,null,__jsx(title.Z,{className:" relative mt-16",level:3},"Download History"),__jsx("hr",{className:"border-light-slate-6 my-4"}),__jsx(reports_history.Z,{reportList:reports,repositories}))):__jsx(react.Fragment,null,__jsx(Typography_text.Z,null,"Upgrade to a subscription to gain access to generate custom reports!"),__jsx("p",{className:"flex justify-center py-4 px-2"},__jsx(stripe_checkout_button.Z,{variant:"primary",className:"w-52 h-[38px] flex justify-center"}))):__jsx("div",{className:"flex justify-center py-4"},__jsx(Button_button.Z,{variant:"primary",onClick:async()=>await signIn({provider:"github"})},"Connect with GitHub ",__jsx(icon.Z,{IconImage:github_icon.Z,className:"ml-2"})))))};Reports.displayName="Reports";const Reports_reports=Reports;try{reports.displayName="reports",reports.__docgenInfo={description:"",displayName:"reports",props:{hasReports:{defaultValue:null,description:"",name:"hasReports",required:!1,type:{name:"boolean"}},waitlisted:{defaultValue:null,description:"",name:"waitlisted",required:!1,type:{name:"boolean"}},repositories:{defaultValue:null,description:"",name:"repositories",required:!1,type:{name:"number[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/Reports/reports.tsx#reports"]={docgenInfo:reports.__docgenInfo,name:"reports",path:"components/organisms/Reports/reports.tsx#reports"})}catch(__react_docgen_typescript_loader_error){}},"./components/organisms/StripeCheckoutButton/stripe-checkout-button.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>stripe_checkout_button});var objectWithoutProperties=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),Button_button=__webpack_require__("./components/atoms/Button/button.tsx"),useSupabaseAuth=__webpack_require__("./lib/hooks/useSupabaseAuth.ts"),stripe_esm=__webpack_require__("./node_modules/@stripe/stripe-js/dist/stripe.esm.js"),process=__webpack_require__("./node_modules/process/browser.js");let stripePromise;var console=__webpack_require__("./node_modules/console-browserify/index.js");const _excluded=["children"];var __jsx=react.createElement;const StripeCheckoutButton=_ref=>{let{children}=_ref,props=(0,objectWithoutProperties.Z)(_ref,_excluded);const{sessionToken}=(0,useSupabaseAuth.Z)();return __jsx("form",{onSubmit:async event=>{event.preventDefault();try{const response=await fetch("".concat("https://beta.api.opensauced.pizza/v1","/auth/checkout/session"),{method:"POST",headers:{Authorization:"Bearer ".concat(sessionToken)}});if(response.ok){const{sessionId}=await response.json(),stripe=await(()=>{var _ref,_process$env$NEXT_PUB;return stripePromise||(stripePromise=(0,stripe_esm.J)(null!==(_ref=null!==(_process$env$NEXT_PUB=process.env.NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY_LIVE)&&void 0!==_process$env$NEXT_PUB?_process$env$NEXT_PUB:"test")&&void 0!==_ref?_ref:"")),stripePromise})();null==stripe||stripe.redirectToCheckout({sessionId})}else console.error(response.statusText)}catch(e){}}},__jsx(Button_button.Z,props,children||"Upgrade Access"))};StripeCheckoutButton.displayName="StripeCheckoutButton";const stripe_checkout_button=StripeCheckoutButton;try{stripecheckoutbutton.displayName="stripecheckoutbutton",stripecheckoutbutton.__docgenInfo={description:"",displayName:"stripecheckoutbutton",props:{variant:{defaultValue:null,description:"",name:"variant",required:!0,type:{name:"enum",value:[{value:'"dark"'},{value:'"link"'},{value:'"text"'},{value:'"default"'},{value:'"primary"'},{value:'"outline"'},{value:'"destructive"'}]}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}},href:{defaultValue:null,description:"",name:"href",required:!1,type:{name:"string"}},rel:{defaultValue:null,description:"",name:"rel",required:!1,type:{name:"string"}},target:{defaultValue:null,description:"",name:"target",required:!1,type:{name:"string"}},showLoadingText:{defaultValue:null,description:"",name:"showLoadingText",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["components/organisms/StripeCheckoutButton/stripe-checkout-button.tsx#stripecheckoutbutton"]={docgenInfo:stripecheckoutbutton.__docgenInfo,name:"stripecheckoutbutton",path:"components/organisms/StripeCheckoutButton/stripe-checkout-button.tsx#stripecheckoutbutton"})}catch(__react_docgen_typescript_loader_error){}},"./lib/hooks/useSession.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),lib_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./lib/store/index.ts"),_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/hooks/useSupabaseAuth.ts");const __WEBPACK_DEFAULT_EXPORT__=function(){let getSession=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const{sessionToken}=(0,_useSupabaseAuth__WEBPACK_IMPORTED_MODULE_2__.Z)(getSession),store=(0,lib_store__WEBPACK_IMPORTED_MODULE_1__.Z)(),hasReports=(0,lib_store__WEBPACK_IMPORTED_MODULE_1__.Z)((state=>state.hasReports)),onboarded=(0,lib_store__WEBPACK_IMPORTED_MODULE_1__.Z)((state=>state.onboarded)),waitlisted=(0,lib_store__WEBPACK_IMPORTED_MODULE_1__.Z)((state=>state.waitlisted)),{0:session,1:setSession}=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{(async()=>{if(sessionToken&&getSession){const data=await(async()=>{const response=await fetch("".concat("https://beta.api.opensauced.pizza/v1","/auth/session"),{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(sessionToken)}});if(200===response.status)return await response.json();return!1})();setSession(data),isOnboarded=data.is_onboarded,isWaitlisted=data.is_waitlisted,insightsRole=data.insights_role,store.setSession({onboarded:isOnboarded,waitlisted:isWaitlisted,insightRepoLimit:insightsRole>=50?50:10}),store.setHasReports(insightsRole>=50)}var isOnboarded,isWaitlisted,insightsRole})()}),[sessionToken]),{onboarded,waitlisted,hasReports,session}}},"./img/icons/github-icon.svg":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__={src:"static/media/github-icon.d9e0f44a.svg",height:16,width:16,blurDataURL:"static/media/github-icon.d9e0f44a.svg"}},"./node_modules/@stripe/stripe-js/dist/stripe.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{J:()=>loadStripe});var console=__webpack_require__("./node_modules/console-browserify/index.js"),V3_URL="https://js.stripe.com/v3",V3_URL_REGEX=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,EXISTING_SCRIPT_MESSAGE="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",stripePromise=null,loadScript=function loadScript(params){return null!==stripePromise||(stripePromise=new Promise((function(resolve,reject){if("undefined"!=typeof window)if(window.Stripe&&params&&console.warn(EXISTING_SCRIPT_MESSAGE),window.Stripe)resolve(window.Stripe);else try{var script=function findScript(){for(var scripts=document.querySelectorAll('script[src^="'.concat(V3_URL,'"]')),i=0;i<scripts.length;i++){var script=scripts[i];if(V3_URL_REGEX.test(script.src))return script}return null}();script&&params?console.warn(EXISTING_SCRIPT_MESSAGE):script||(script=function injectScript(params){var queryString=params&&!params.advancedFraudSignals?"?advancedFraudSignals=false":"",script=document.createElement("script");script.src="".concat(V3_URL).concat(queryString);var headOrBody=document.head||document.body;if(!headOrBody)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return headOrBody.appendChild(script),script}(params)),script.addEventListener("load",(function(){window.Stripe?resolve(window.Stripe):reject(new Error("Stripe.js not available"))})),script.addEventListener("error",(function(){reject(new Error("Failed to load Stripe.js"))}))}catch(error){return void reject(error)}else resolve(null)}))),stripePromise},stripePromise$1=Promise.resolve().then((function(){return loadScript(null)})),loadCalled=!1;stripePromise$1.catch((function(err){loadCalled||console.warn(err)}));var loadStripe=function loadStripe(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];loadCalled=!0;var startTime=Date.now();return stripePromise$1.then((function(maybeStripe){return function initStripe(maybeStripe,args,startTime){if(null===maybeStripe)return null;var stripe=maybeStripe.apply(void 0,args);return function registerWrapper(stripe,startTime){stripe&&stripe._registerWrapper&&stripe._registerWrapper({name:"stripe-js",version:"1.46.0",startTime})}(stripe,startTime),stripe}(maybeStripe,args,startTime)}))}},"./node_modules/@supabase/auth-helpers-react/dist/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";var mod,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__hasOwnProp=Object.prototype.hasOwnProperty,src_exports={};((target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})})(src_exports,{SessionContextProvider:()=>SessionContextProvider,useSession:()=>useSession,useSessionContext:()=>useSessionContext,useSupabaseClient:()=>useSupabaseClient,useUser:()=>useUser}),module.exports=(mod=src_exports,((to,from,except,desc)=>{if(from&&"object"==typeof from||"function"==typeof from)for(let key of __getOwnPropNames(from))__hasOwnProp.call(to,key)||key===except||__defProp(to,key,{get:()=>from[key],enumerable:!(desc=__getOwnPropDesc(from,key))||desc.enumerable});return to})(__defProp({},"__esModule",{value:!0}),mod));var import_react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),import_jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),SessionContext=(0,import_react.createContext)({isLoading:!0,session:null,error:null,supabaseClient:{}}),SessionContextProvider=({supabaseClient,initialSession=null,children})=>{const[session,setSession]=(0,import_react.useState)(initialSession),[isLoading,setIsLoading]=(0,import_react.useState)(!initialSession),[error,setError]=(0,import_react.useState)();(0,import_react.useEffect)((()=>{let mounted=!0;return function getSession(){return __this=this,__arguments=null,generator=function*(){const{data:{session:session2},error:error2}=yield supabaseClient.auth.getSession();if(mounted){if(error2)return setError(error2),void setIsLoading(!1);setSession(session2),setIsLoading(!1)}},new Promise(((resolve,reject)=>{var fulfilled=value=>{try{step(generator.next(value))}catch(e){reject(e)}},rejected=value=>{try{step(generator.throw(value))}catch(e){reject(e)}},step=x=>x.done?resolve(x.value):Promise.resolve(x.value).then(fulfilled,rejected);step((generator=generator.apply(__this,__arguments)).next())}));var __this,__arguments,generator}(),()=>{mounted=!1}}),[]),(0,import_react.useEffect)((()=>{const{data:{subscription}}=supabaseClient.auth.onAuthStateChange(((event,session2)=>{!session2||"SIGNED_IN"!==event&&"TOKEN_REFRESHED"!==event||setSession(session2),"SIGNED_OUT"===event&&setSession(null)}));return()=>{subscription.unsubscribe()}}),[]);const value=(0,import_react.useMemo)((()=>isLoading?{isLoading:!0,session:null,error:null,supabaseClient}:error?{isLoading:!1,session:null,error,supabaseClient}:{isLoading:!1,session,error:null,supabaseClient}),[isLoading,session,error]);return(0,import_jsx_runtime.jsx)(SessionContext.Provider,{value,children})},useSessionContext=()=>{const context=(0,import_react.useContext)(SessionContext);if(void 0===context)throw new Error("useSessionContext must be used within a SessionContextProvider.");return context};function useSupabaseClient(){const context=(0,import_react.useContext)(SessionContext);if(void 0===context)throw new Error("useSupabaseClient must be used within a SessionContextProvider.");return context.supabaseClient}var useSession=()=>{const context=(0,import_react.useContext)(SessionContext);if(void 0===context)throw new Error("useSession must be used within a SessionContextProvider.");return context.session},useUser=()=>{var _a,_b;const context=(0,import_react.useContext)(SessionContext);if(void 0===context)throw new Error("useUser must be used within a SessionContextProvider.");return null!=(_b=null==(_a=context.session)?void 0:_a.user)?_b:null}},"./node_modules/react-csv/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{module.exports=__webpack_require__("./node_modules/react-csv/lib/index.js")},"./node_modules/react-csv/lib/components/Download.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_core=__webpack_require__("./node_modules/react-csv/lib/core.js"),_metaProps=__webpack_require__("./node_modules/react-csv/lib/metaProps.js");var CSVDownload=function(_React$Component){function CSVDownload(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CSVDownload);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(CSVDownload.__proto__||Object.getPrototypeOf(CSVDownload)).call(this,props));return _this.state={},_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CSVDownload,_React$Component),_createClass(CSVDownload,[{key:"buildURI",value:function buildURI(){return _core.buildURI.apply(void 0,arguments)}},{key:"componentDidMount",value:function componentDidMount(){var _props=this.props,data=_props.data,headers=_props.headers,separator=_props.separator,enclosingCharacter=_props.enclosingCharacter,uFEFF=_props.uFEFF,target=_props.target,specs=_props.specs,replace=_props.replace;this.state.page=window.open(this.buildURI(data,uFEFF,headers,separator,enclosingCharacter),target,specs,replace)}},{key:"getWindow",value:function getWindow(){return this.state.page}},{key:"render",value:function render(){return null}}]),CSVDownload}(_react2.default.Component);CSVDownload.defaultProps=Object.assign(_metaProps.defaultProps,{target:"_blank"}),CSVDownload.propTypes=_metaProps.propTypes,exports.default=CSVDownload},"./node_modules/react-csv/lib/components/Link.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_react2=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(__webpack_require__("./node_modules/next/dist/compiled/react/index.js")),_core=__webpack_require__("./node_modules/react-csv/lib/core.js"),_metaProps=__webpack_require__("./node_modules/react-csv/lib/metaProps.js");var CSVLink=function(_React$Component){function CSVLink(props){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,CSVLink);var _this=function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}(this,(CSVLink.__proto__||Object.getPrototypeOf(CSVLink)).call(this,props));return _this.buildURI=_this.buildURI.bind(_this),_this}return function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}(CSVLink,_React$Component),_createClass(CSVLink,[{key:"buildURI",value:function buildURI(){return _core.buildURI.apply(void 0,arguments)}},{key:"handleLegacy",value:function handleLegacy(event){var isAsync=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(window.navigator.msSaveOrOpenBlob){event.preventDefault();var _props=this.props,data=_props.data,headers=_props.headers,separator=_props.separator,filename=_props.filename,enclosingCharacter=_props.enclosingCharacter,uFEFF=_props.uFEFF,csvData=isAsync&&"function"==typeof data?data():data,blob=new Blob([uFEFF?"\ufeff":"",(0,_core.toCSV)(csvData,headers,separator,enclosingCharacter)]);return window.navigator.msSaveBlob(blob,filename),!1}}},{key:"handleAsyncClick",value:function handleAsyncClick(event){var _this2=this;this.props.onClick(event,(function done(proceed){!1!==proceed?_this2.handleLegacy(event,!0):event.preventDefault()}))}},{key:"handleSyncClick",value:function handleSyncClick(event){!1===this.props.onClick(event)?event.preventDefault():this.handleLegacy(event)}},{key:"handleClick",value:function handleClick(){var _this3=this;return function(event){if("function"==typeof _this3.props.onClick)return _this3.props.asyncOnClick?_this3.handleAsyncClick(event):_this3.handleSyncClick(event);_this3.handleLegacy(event)}}},{key:"render",value:function render(){var _this4=this,_props2=this.props,data=_props2.data,headers=_props2.headers,separator=_props2.separator,filename=_props2.filename,uFEFF=_props2.uFEFF,children=_props2.children,enclosingCharacter=(_props2.onClick,_props2.asyncOnClick,_props2.enclosingCharacter),rest=function _objectWithoutProperties(obj,keys){var target={};for(var i in obj)keys.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(obj,i)&&(target[i]=obj[i]);return target}(_props2,["data","headers","separator","filename","uFEFF","children","onClick","asyncOnClick","enclosingCharacter"]),href="undefined"==typeof window?"":this.buildURI(data,uFEFF,headers,separator,enclosingCharacter);return _react2.default.createElement("a",_extends({download:filename},rest,{ref:function ref(link){return _this4.link=link},target:"_self",href,onClick:this.handleClick()}),children)}}]),CSVLink}(_react2.default.Component);CSVLink.defaultProps=_metaProps.defaultProps,CSVLink.propTypes=_metaProps.propTypes,exports.default=CSVLink},"./node_modules/react-csv/lib/core.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};function _toConsumableArray(arr){if(Array.isArray(arr)){for(var i=0,arr2=Array(arr.length);i<arr.length;i++)arr2[i]=arr[i];return arr2}return Array.from(arr)}var isSafari=exports.isSafari=function isSafari(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},isJsons=exports.isJsons=function isJsons(array){return Array.isArray(array)&&array.every((function(row){return"object"===(void 0===row?"undefined":_typeof(row))&&!(row instanceof Array)}))},isArrays=exports.isArrays=function isArrays(array){return Array.isArray(array)&&array.every((function(row){return Array.isArray(row)}))},jsonsHeaders=exports.jsonsHeaders=function jsonsHeaders(array){return Array.from(array.map((function(json){return Object.keys(json)})).reduce((function(a,b){return new Set([].concat(_toConsumableArray(a),_toConsumableArray(b)))}),[]))},jsons2arrays=exports.jsons2arrays=function jsons2arrays(jsons,headers){var headerLabels=headers=headers||jsonsHeaders(jsons),headerKeys=headers;isJsons(headers)&&(headerLabels=headers.map((function(header){return header.label})),headerKeys=headers.map((function(header){return header.key})));var data=jsons.map((function(object){return headerKeys.map((function(header){return getHeaderValue(header,object)}))}));return[headerLabels].concat(_toConsumableArray(data))},getHeaderValue=exports.getHeaderValue=function getHeaderValue(property,obj){var foundValue=property.replace(/\[([^\]]+)]/g,".$1").split(".").reduce((function(o,p,i,arr){var value=o[p];if(null!=value)return value;arr.splice(1)}),obj);return void 0===foundValue?property in obj?obj[property]:"":foundValue},elementOrEmpty=exports.elementOrEmpty=function elementOrEmpty(element){return null==element?"":element},joiner=exports.joiner=function joiner(data){var separator=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",enclosingCharacter=arguments.length>2&&void 0!==arguments[2]?arguments[2]:'"';return data.filter((function(e){return e})).map((function(row){return row.map((function(element){return elementOrEmpty(element)})).map((function(column){return""+enclosingCharacter+column+enclosingCharacter})).join(separator)})).join("\n")},arrays2csv=exports.arrays2csv=function arrays2csv(data,headers,separator,enclosingCharacter){return joiner(headers?[headers].concat(_toConsumableArray(data)):data,separator,enclosingCharacter)},jsons2csv=exports.jsons2csv=function jsons2csv(data,headers,separator,enclosingCharacter){return joiner(jsons2arrays(data,headers),separator,enclosingCharacter)},string2csv=exports.string2csv=function string2csv(data,headers,separator,enclosingCharacter){return headers?headers.join(separator)+"\n"+data:data.replace(/"/g,'""')},toCSV=exports.toCSV=function toCSV(data,headers,separator,enclosingCharacter){if(isJsons(data))return jsons2csv(data,headers,separator,enclosingCharacter);if(isArrays(data))return arrays2csv(data,headers,separator,enclosingCharacter);if("string"==typeof data)return string2csv(data,headers,separator);throw new TypeError('Data should be a "String", "Array of arrays" OR "Array of objects" ')};exports.buildURI=function buildURI(data,uFEFF,headers,separator,enclosingCharacter){var csv=toCSV(data,headers,separator,enclosingCharacter),type=isSafari()?"application/csv":"text/csv",blob=new Blob([uFEFF?"\ufeff":"",csv],{type}),dataURI="data:"+type+";charset=utf-8,"+(uFEFF?"\ufeff":"")+csv,URL=window.URL||window.webkitURL;return void 0===URL.createObjectURL?dataURI:URL.createObjectURL(blob)}},"./node_modules/react-csv/lib/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.CSVLink=void 0;var _Download2=_interopRequireDefault(__webpack_require__("./node_modules/react-csv/lib/components/Download.js")),_Link2=_interopRequireDefault(__webpack_require__("./node_modules/react-csv/lib/components/Link.js"));function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_Download2.default,exports.CSVLink=_Link2.default},"./node_modules/react-csv/lib/metaProps.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PropsNotForwarded=exports.defaultProps=exports.propTypes=void 0;(function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}})(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"));var _propTypes=__webpack_require__("./node_modules/prop-types/index.js");exports.propTypes={data:(0,_propTypes.oneOfType)([_propTypes.string,_propTypes.array,_propTypes.func]).isRequired,headers:_propTypes.array,target:_propTypes.string,separator:_propTypes.string,filename:_propTypes.string,uFEFF:_propTypes.bool,onClick:_propTypes.func,asyncOnClick:_propTypes.bool,enclosingCharacter:_propTypes.string},exports.defaultProps={separator:",",filename:"generatedBy_react-csv.csv",uFEFF:!0,asyncOnClick:!1,enclosingCharacter:'"'},exports.PropsNotForwarded=["data","headers"]}}]);